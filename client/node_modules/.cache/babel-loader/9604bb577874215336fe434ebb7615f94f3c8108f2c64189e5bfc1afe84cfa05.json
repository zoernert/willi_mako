{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Box,Typography,Card,CardContent,RadioGroup,FormControlLabel,Radio,Button,LinearProgress,Paper,Alert,Dialog,DialogTitle,DialogContent,DialogActions,Chip,Container,Grid}from'@mui/material';import{Timer,CheckCircle,NavigateNext,NavigateBefore,Flag,Quiz as QuizIcon}from'@mui/icons-material';import{useParams,useNavigate,useLocation}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizPlayer=()=>{var _answers$currentQuest;const{quizId}=useParams();const navigate=useNavigate();const location=useLocation();const timerRef=useRef(null);const[quiz,setQuiz]=useState(null);const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[answers,setAnswers]=useState({});const[timeLeft,setTimeLeft]=useState(0);const[loading,setLoading]=useState(true);const[submitting,setSubmitting]=useState(false);const[error,setError]=useState(null);const[showExitDialog,setShowExitDialog]=useState(false);const[quizStarted,setQuizStarted]=useState(false);const[attemptId,setAttemptId]=useState(null);const[showResults,setShowResults]=useState(false);const[results,setResults]=useState(null);useEffect(()=>{loadQuiz();},[quizId]);useEffect(()=>{if(quizStarted&&timeLeft>0){timerRef.current=setTimeout(()=>{setTimeLeft(timeLeft-1);},1000);}else if(timeLeft===0&&quizStarted){// Time up - auto submit\nhandleSubmit();}return()=>{if(timerRef.current){clearTimeout(timerRef.current);}};},[timeLeft,quizStarted]);const loadQuiz=async()=>{try{var _location$state;const response=await axios.get(`/api/quiz/quizzes/${quizId}`);setQuiz(response.data);setTimeLeft(response.data.time_limit_minutes*60);// Check if we have an attempt ID from navigation state\nif((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.attemptId){setAttemptId(location.state.attemptId);setQuizStarted(true);}}catch(err){console.error('Error loading quiz:',err);setError('Fehler beim Laden des Quiz');}finally{setLoading(false);}};const startQuiz=async()=>{if(!quiz)return;try{const response=await axios.post(`/api/quiz/quizzes/${quiz.id}/start`);setAttemptId(response.data.id);setQuizStarted(true);setTimeLeft(quiz.time_limit_minutes*60);}catch(err){console.error('Error starting quiz:',err);setError('Fehler beim Starten des Quiz');}};const handleAnswerChange=(questionId,answerIndex)=>{setAnswers(prev=>({...prev,[questionId]:answerIndex}));};const handleSubmit=async()=>{if(!quiz||!attemptId)return;try{setSubmitting(true);const userAnswers=quiz.questions.map(question=>{var _answers$question$id;return{question_id:question.id,selected_answer_index:(_answers$question$id=answers[question.id])!==null&&_answers$question$id!==void 0?_answers$question$id:-1,selected_answer_text:answers[question.id]!==undefined?question.answer_options[answers[question.id]]:'',is_correct:answers[question.id]===question.correct_answer_index};});const response=await axios.post(`/api/quiz/quizzes/${quiz.id}/submit`,{attemptId,answers:userAnswers});setResults(response.data);setShowResults(true);// Clear timer\nif(timerRef.current){clearTimeout(timerRef.current);}}catch(err){console.error('Error submitting quiz:',err);setError('Fehler beim Einreichen des Quiz');}finally{setSubmitting(false);}};const handleExit=()=>{setShowExitDialog(true);};const confirmExit=()=>{navigate('/quiz');};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return`${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;};const getTimeColor=()=>{if(timeLeft>300)return'success';// > 5 minutes\nif(timeLeft>60)return'warning';// > 1 minute\nreturn'error';// < 1 minute\n};const getProgress=()=>{var _quiz$questions;return(currentQuestionIndex+1)/((quiz===null||quiz===void 0?void 0:(_quiz$questions=quiz.questions)===null||_quiz$questions===void 0?void 0:_quiz$questions.length)||1)*100;};const currentQuestion=quiz===null||quiz===void 0?void 0:quiz.questions[currentQuestionIndex];if(loading){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4,display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Typography,{children:\"Quiz wird geladen...\"})});}if(error){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})});}if(!quiz){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:\"Quiz nicht gefunden\"})});}if(showResults&&results){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(CheckCircle,{color:\"success\"}),\" Quiz Abgeschlossen!\"]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",color:\"primary\",children:[Math.round(results.attempt.percentage),\"%\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Punktzahl\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"success.main\",children:results.points_earned}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Punkte Erhalten\"})]})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Ergebnis-Details:\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"\\u2022 Richtige Antworten: \",results.attempt.score,\" von \",results.attempt.max_score,\" Punkten\"]}),/*#__PURE__*/_jsxs(Typography,{children:[\"\\u2022 Zeitverbrauch: \",Math.round(results.attempt.time_spent_seconds/60),\" Minuten\"]}),results.expertise_updates.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Expertenstatus Updates:\"}),results.expertise_updates.map((update,index)=>/*#__PURE__*/_jsx(Chip,{label:`${update.topic_area}: ${update.old_level} → ${update.new_level}`,color:\"primary\",sx:{mr:1,mb:1}},index))]}),results.achievements.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Neue Erfolge:\"}),results.achievements.map((achievement,index)=>/*#__PURE__*/_jsxs(Alert,{severity:\"success\",sx:{mb:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:achievement.title}),\": \",achievement.description]},index))]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4,display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:()=>navigate('/quiz'),children:\"Zur\\xFCck zur \\xDCbersicht\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>window.location.reload(),children:\"Quiz Wiederholen\"})]})]})});}if(!quizStarted){return/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",sx:{py:4},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",gutterBottom:true,sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(QuizIcon,{}),\" \",quiz.title]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:quiz.description}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,mb:3},children:[/*#__PURE__*/_jsx(Chip,{label:`${quiz.question_count} Fragen`}),/*#__PURE__*/_jsx(Chip,{label:`${quiz.time_limit_minutes} Minuten`}),/*#__PURE__*/_jsx(Chip,{label:quiz.difficulty_level}),quiz.topic_area&&/*#__PURE__*/_jsx(Chip,{label:quiz.topic_area})]}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mb:3},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"\\u2022 Sie haben \",quiz.time_limit_minutes,\" Minuten Zeit\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 \",quiz.question_count,\" Fragen zu beantworten\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 Nach dem Start k\\xF6nnen Sie das Quiz nicht pausieren\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u2022 W\\xE4hlen Sie die beste Antwort f\\xFCr jede Frage\"]})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"large\",onClick:startQuiz,children:\"Quiz Starten\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigate('/quiz'),children:\"Abbrechen\"})]})]})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{py:4},children:[/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:quiz.title}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Chip,{icon:/*#__PURE__*/_jsx(Timer,{}),label:formatTime(timeLeft),color:getTimeColor()}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"error\",onClick:handleExit,children:\"Beenden\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Frage \",currentQuestionIndex+1,\" von \",quiz.questions.length]}),/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:getProgress(),sx:{mt:1}})]})]}),currentQuestion&&/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:currentQuestion.question_text}),/*#__PURE__*/_jsx(RadioGroup,{value:(_answers$currentQuest=answers[currentQuestion.id])!==null&&_answers$currentQuest!==void 0?_answers$currentQuest:'',onChange:e=>handleAnswerChange(currentQuestion.id,parseInt(e.target.value)),children:currentQuestion.answer_options.map((option,index)=>/*#__PURE__*/_jsx(FormControlLabel,{value:index,control:/*#__PURE__*/_jsx(Radio,{}),label:option},index))})]})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(NavigateBefore,{}),onClick:()=>setCurrentQuestionIndex(Math.max(0,currentQuestionIndex-1)),disabled:currentQuestionIndex===0,children:\"Zur\\xFCck\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:1},children:quiz.questions.map((_,index)=>/*#__PURE__*/_jsx(Box,{sx:{width:8,height:8,borderRadius:'50%',backgroundColor:index===currentQuestionIndex?'primary.main':answers[quiz.questions[index].id]!==undefined?'success.main':'grey.300',cursor:'pointer'},onClick:()=>setCurrentQuestionIndex(index)},index))}),currentQuestionIndex===quiz.questions.length-1?/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"success\",startIcon:/*#__PURE__*/_jsx(Flag,{}),onClick:handleSubmit,disabled:submitting,children:submitting?'Einreichen...':'Einreichen'}):/*#__PURE__*/_jsx(Button,{variant:\"outlined\",endIcon:/*#__PURE__*/_jsx(NavigateNext,{}),onClick:()=>setCurrentQuestionIndex(Math.min(quiz.questions.length-1,currentQuestionIndex+1)),children:\"Weiter\"})]}),/*#__PURE__*/_jsxs(Dialog,{open:showExitDialog,onClose:()=>setShowExitDialog(false),children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Quiz Beenden\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Typography,{children:\"Sind Sie sicher, dass Sie das Quiz beenden m\\xF6chten? Ihr Fortschritt geht verloren.\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setShowExitDialog(false),children:\"Abbrechen\"}),/*#__PURE__*/_jsx(Button,{onClick:confirmExit,color:\"error\",children:\"Beenden\"})]})]})]});};export default QuizPlayer;","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Typography","Card","CardContent","RadioGroup","FormControlLabel","Radio","Button","LinearProgress","Paper","Alert","Dialog","DialogTitle","DialogContent","DialogActions","Chip","Container","Grid","Timer","CheckCircle","NavigateNext","NavigateBefore","Flag","Quiz","QuizIcon","useParams","useNavigate","useLocation","axios","jsx","_jsx","jsxs","_jsxs","QuizPlayer","_answers$currentQuest","quizId","navigate","location","timerRef","quiz","setQuiz","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","timeLeft","setTimeLeft","loading","setLoading","submitting","setSubmitting","error","setError","showExitDialog","setShowExitDialog","quizStarted","setQuizStarted","attemptId","setAttemptId","showResults","setShowResults","results","setResults","loadQuiz","current","setTimeout","handleSubmit","clearTimeout","_location$state","response","get","data","time_limit_minutes","state","err","console","startQuiz","post","id","handleAnswerChange","questionId","answerIndex","prev","userAnswers","questions","map","question","_answers$question$id","question_id","selected_answer_index","selected_answer_text","undefined","answer_options","is_correct","correct_answer_index","handleExit","confirmExit","formatTime","seconds","mins","Math","floor","secs","toString","padStart","getTimeColor","getProgress","_quiz$questions","length","currentQuestion","maxWidth","sx","py","display","justifyContent","children","severity","p","variant","gutterBottom","alignItems","gap","color","container","spacing","mb","item","xs","md","textAlign","round","attempt","percentage","points_earned","score","max_score","time_spent_seconds","expertise_updates","mt","update","index","label","topic_area","old_level","new_level","mr","achievements","achievement","title","description","onClick","window","reload","paragraph","question_count","difficulty_level","size","icon","value","question_text","onChange","e","parseInt","target","option","control","startIcon","max","disabled","_","width","height","borderRadius","backgroundColor","cursor","endIcon","min","open","onClose"],"sources":["/home/thorsten/Development/willi_mako/client/src/components/Quiz/QuizPlayer.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  Button,\n  LinearProgress,\n  Paper,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Chip,\n  Container,\n  Grid,\n  Divider\n} from '@mui/material';\nimport {\n  Timer,\n  CheckCircle,\n  Cancel,\n  NavigateNext,\n  NavigateBefore,\n  Flag,\n  Quiz as QuizIcon\n} from '@mui/icons-material';\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\n\ninterface Quiz {\n  id: string;\n  title: string;\n  description: string;\n  difficulty_level: string;\n  topic_area: string;\n  time_limit_minutes: number;\n  question_count: number;\n  questions: QuizQuestion[];\n}\n\ninterface QuizQuestion {\n  id: string;\n  question_text: string;\n  answer_options: string[];\n  correct_answer_index: number;\n  explanation: string;\n  points: number;\n}\n\ninterface UserAnswer {\n  question_id: string;\n  selected_answer_index: number;\n  selected_answer_text: string;\n  is_correct: boolean;\n}\n\ninterface QuizResult {\n  attempt: any;\n  points_earned: number;\n  expertise_updates: any[];\n  achievements: any[];\n}\n\nconst QuizPlayer: React.FC = () => {\n  const { quizId } = useParams();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\n  \n  const [quiz, setQuiz] = useState<Quiz | null>(null);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [answers, setAnswers] = useState<{ [key: string]: number }>({});\n  const [timeLeft, setTimeLeft] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showExitDialog, setShowExitDialog] = useState(false);\n  const [quizStarted, setQuizStarted] = useState(false);\n  const [attemptId, setAttemptId] = useState<string | null>(null);\n  const [showResults, setShowResults] = useState(false);\n  const [results, setResults] = useState<QuizResult | null>(null);\n\n  useEffect(() => {\n    loadQuiz();\n  }, [quizId]);\n\n  useEffect(() => {\n    if (quizStarted && timeLeft > 0) {\n      timerRef.current = setTimeout(() => {\n        setTimeLeft(timeLeft - 1);\n      }, 1000);\n    } else if (timeLeft === 0 && quizStarted) {\n      // Time up - auto submit\n      handleSubmit();\n    }\n\n    return () => {\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n      }\n    };\n  }, [timeLeft, quizStarted]);\n\n  const loadQuiz = async () => {\n    try {\n      const response = await axios.get(`/api/quiz/quizzes/${quizId}`);\n      setQuiz(response.data);\n      setTimeLeft(response.data.time_limit_minutes * 60);\n      \n      // Check if we have an attempt ID from navigation state\n      if (location.state?.attemptId) {\n        setAttemptId(location.state.attemptId);\n        setQuizStarted(true);\n      }\n    } catch (err) {\n      console.error('Error loading quiz:', err);\n      setError('Fehler beim Laden des Quiz');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const startQuiz = async () => {\n    if (!quiz) return;\n    \n    try {\n      const response = await axios.post(`/api/quiz/quizzes/${quiz.id}/start`);\n      setAttemptId(response.data.id);\n      setQuizStarted(true);\n      setTimeLeft(quiz.time_limit_minutes * 60);\n    } catch (err) {\n      console.error('Error starting quiz:', err);\n      setError('Fehler beim Starten des Quiz');\n    }\n  };\n\n  const handleAnswerChange = (questionId: string, answerIndex: number) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: answerIndex\n    }));\n  };\n\n  const handleSubmit = async () => {\n    if (!quiz || !attemptId) return;\n    \n    try {\n      setSubmitting(true);\n      \n      const userAnswers: UserAnswer[] = quiz.questions.map(question => ({\n        question_id: question.id,\n        selected_answer_index: answers[question.id] ?? -1,\n        selected_answer_text: answers[question.id] !== undefined \n          ? question.answer_options[answers[question.id]] \n          : '',\n        is_correct: answers[question.id] === question.correct_answer_index\n      }));\n\n      const response = await axios.post(`/api/quiz/quizzes/${quiz.id}/submit`, {\n        attemptId,\n        answers: userAnswers\n      });\n\n      setResults(response.data);\n      setShowResults(true);\n      \n      // Clear timer\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n      }\n    } catch (err) {\n      console.error('Error submitting quiz:', err);\n      setError('Fehler beim Einreichen des Quiz');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const handleExit = () => {\n    setShowExitDialog(true);\n  };\n\n  const confirmExit = () => {\n    navigate('/quiz');\n  };\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getTimeColor = () => {\n    if (timeLeft > 300) return 'success'; // > 5 minutes\n    if (timeLeft > 60) return 'warning'; // > 1 minute\n    return 'error'; // < 1 minute\n  };\n\n  const getProgress = () => {\n    return ((currentQuestionIndex + 1) / (quiz?.questions?.length || 1)) * 100;\n  };\n\n  const currentQuestion = quiz?.questions[currentQuestionIndex];\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4, display: 'flex', justifyContent: 'center' }}>\n        <Typography>Quiz wird geladen...</Typography>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Alert severity=\"error\">{error}</Alert>\n      </Container>\n    );\n  }\n\n  if (!quiz) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Alert severity=\"error\">Quiz nicht gefunden</Alert>\n      </Container>\n    );\n  }\n\n  if (showResults && results) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Paper sx={{ p: 4 }}>\n          <Typography variant=\"h4\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n            <CheckCircle color=\"success\" /> Quiz Abgeschlossen!\n          </Typography>\n          \n          <Grid container spacing={3} sx={{ mb: 4 }}>\n            <Grid item xs={12} md={6}>\n              <Box sx={{ textAlign: 'center' }}>\n                <Typography variant=\"h3\" color=\"primary\">\n                  {Math.round(results.attempt.percentage)}%\n                </Typography>\n                <Typography variant=\"h6\">Punktzahl</Typography>\n              </Box>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <Box sx={{ textAlign: 'center' }}>\n                <Typography variant=\"h3\" color=\"success.main\">\n                  {results.points_earned}\n                </Typography>\n                <Typography variant=\"h6\">Punkte Erhalten</Typography>\n              </Box>\n            </Grid>\n          </Grid>\n\n          <Typography variant=\"h6\" gutterBottom>\n            Ergebnis-Details:\n          </Typography>\n          <Typography>\n            • Richtige Antworten: {results.attempt.score} von {results.attempt.max_score} Punkten\n          </Typography>\n          <Typography>\n            • Zeitverbrauch: {Math.round(results.attempt.time_spent_seconds / 60)} Minuten\n          </Typography>\n          \n          {results.expertise_updates.length > 0 && (\n            <Box sx={{ mt: 3 }}>\n              <Typography variant=\"h6\" gutterBottom>\n                Expertenstatus Updates:\n              </Typography>\n              {results.expertise_updates.map((update, index) => (\n                <Chip\n                  key={index}\n                  label={`${update.topic_area}: ${update.old_level} → ${update.new_level}`}\n                  color=\"primary\"\n                  sx={{ mr: 1, mb: 1 }}\n                />\n              ))}\n            </Box>\n          )}\n\n          {results.achievements.length > 0 && (\n            <Box sx={{ mt: 3 }}>\n              <Typography variant=\"h6\" gutterBottom>\n                Neue Erfolge:\n              </Typography>\n              {results.achievements.map((achievement, index) => (\n                <Alert key={index} severity=\"success\" sx={{ mb: 1 }}>\n                  <strong>{achievement.title}</strong>: {achievement.description}\n                </Alert>\n              ))}\n            </Box>\n          )}\n\n          <Box sx={{ mt: 4, display: 'flex', gap: 2 }}>\n            <Button\n              variant=\"contained\"\n              onClick={() => navigate('/quiz')}\n            >\n              Zurück zur Übersicht\n            </Button>\n            <Button\n              variant=\"outlined\"\n              onClick={() => window.location.reload()}\n            >\n              Quiz Wiederholen\n            </Button>\n          </Box>\n        </Paper>\n      </Container>\n    );\n  }\n\n  if (!quizStarted) {\n    return (\n      <Container maxWidth=\"md\" sx={{ py: 4 }}>\n        <Paper sx={{ p: 4 }}>\n          <Typography variant=\"h4\" gutterBottom sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n            <QuizIcon /> {quiz.title}\n          </Typography>\n          \n          <Typography variant=\"body1\" paragraph>\n            {quiz.description}\n          </Typography>\n\n          <Box sx={{ display: 'flex', gap: 2, mb: 3 }}>\n            <Chip label={`${quiz.question_count} Fragen`} />\n            <Chip label={`${quiz.time_limit_minutes} Minuten`} />\n            <Chip label={quiz.difficulty_level} />\n            {quiz.topic_area && <Chip label={quiz.topic_area} />}\n          </Box>\n\n          <Alert severity=\"info\" sx={{ mb: 3 }}>\n            <Typography variant=\"body2\">\n              • Sie haben {quiz.time_limit_minutes} Minuten Zeit<br />\n              • {quiz.question_count} Fragen zu beantworten<br />\n              • Nach dem Start können Sie das Quiz nicht pausieren<br />\n              • Wählen Sie die beste Antwort für jede Frage\n            </Typography>\n          </Alert>\n\n          <Box sx={{ display: 'flex', gap: 2 }}>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              onClick={startQuiz}\n            >\n              Quiz Starten\n            </Button>\n            <Button\n              variant=\"outlined\"\n              onClick={() => navigate('/quiz')}\n            >\n              Abbrechen\n            </Button>\n          </Box>\n        </Paper>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      {/* Header */}\n      <Paper sx={{ p: 2, mb: 3 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Typography variant=\"h6\">{quiz.title}</Typography>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n            <Chip\n              icon={<Timer />}\n              label={formatTime(timeLeft)}\n              color={getTimeColor()}\n            />\n            <Button\n              variant=\"outlined\"\n              color=\"error\"\n              onClick={handleExit}\n            >\n              Beenden\n            </Button>\n          </Box>\n        </Box>\n        <Box sx={{ mt: 2 }}>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Frage {currentQuestionIndex + 1} von {quiz.questions.length}\n          </Typography>\n          <LinearProgress\n            variant=\"determinate\"\n            value={getProgress()}\n            sx={{ mt: 1 }}\n          />\n        </Box>\n      </Paper>\n\n      {/* Question */}\n      {currentQuestion && (\n        <Card sx={{ mb: 3 }}>\n          <CardContent>\n            <Typography variant=\"h6\" gutterBottom>\n              {currentQuestion.question_text}\n            </Typography>\n            \n            <RadioGroup\n              value={answers[currentQuestion.id] ?? ''}\n              onChange={(e) => handleAnswerChange(currentQuestion.id, parseInt(e.target.value))}\n            >\n              {currentQuestion.answer_options.map((option, index) => (\n                <FormControlLabel\n                  key={index}\n                  value={index}\n                  control={<Radio />}\n                  label={option}\n                />\n              ))}\n            </RadioGroup>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Navigation */}\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <Button\n          variant=\"outlined\"\n          startIcon={<NavigateBefore />}\n          onClick={() => setCurrentQuestionIndex(Math.max(0, currentQuestionIndex - 1))}\n          disabled={currentQuestionIndex === 0}\n        >\n          Zurück\n        </Button>\n\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          {quiz.questions.map((_, index) => (\n            <Box\n              key={index}\n              sx={{\n                width: 8,\n                height: 8,\n                borderRadius: '50%',\n                backgroundColor: index === currentQuestionIndex\n                  ? 'primary.main'\n                  : answers[quiz.questions[index].id] !== undefined\n                  ? 'success.main'\n                  : 'grey.300',\n                cursor: 'pointer'\n              }}\n              onClick={() => setCurrentQuestionIndex(index)}\n            />\n          ))}\n        </Box>\n\n        {currentQuestionIndex === quiz.questions.length - 1 ? (\n          <Button\n            variant=\"contained\"\n            color=\"success\"\n            startIcon={<Flag />}\n            onClick={handleSubmit}\n            disabled={submitting}\n          >\n            {submitting ? 'Einreichen...' : 'Einreichen'}\n          </Button>\n        ) : (\n          <Button\n            variant=\"outlined\"\n            endIcon={<NavigateNext />}\n            onClick={() => setCurrentQuestionIndex(Math.min(quiz.questions.length - 1, currentQuestionIndex + 1))}\n          >\n            Weiter\n          </Button>\n        )}\n      </Box>\n\n      {/* Exit Dialog */}\n      <Dialog open={showExitDialog} onClose={() => setShowExitDialog(false)}>\n        <DialogTitle>Quiz Beenden</DialogTitle>\n        <DialogContent>\n          <Typography>\n            Sind Sie sicher, dass Sie das Quiz beenden möchten? Ihr Fortschritt geht verloren.\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setShowExitDialog(false)}>Abbrechen</Button>\n          <Button onClick={confirmExit} color=\"error\">\n            Beenden\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default QuizPlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}